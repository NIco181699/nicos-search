<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Glossy Search Engine</title>
  <style>
    body {
      background: #0a0a0a;
      color: #eee;
      font-family: Arial, sans-serif;
    }

    input, button {
      border-radius: 999px;
      font-size: 1em;
      padding: 8px 16px;
      border: none;
      font-weight: bold;
      cursor: pointer;
      margin: 0;
    }

    input {
      background: #111;
      color: #eee;
      border: 1px solid #555;
    }

    button {
      background: linear-gradient(to bottom, #00ccff, #006699);
      color: white;
      box-shadow: 0 2px 8px rgba(0, 170, 255, 0.3);
      transition: transform 0.2s ease;
    }

    button:hover {
      transform: scale(1.03);
    }

    .result-card {
      display: flex;
      align-items: center;
      gap: 10px;
      margin: 1em 0;
      padding: 1em;
      border-radius: 10px;
      background: linear-gradient(145deg, #00ccff, #006699);
      box-shadow: 0 0 12px rgba(0, 170, 255, 0.3);
      color: white;
      transition: background 0.3s ease;
    }

    .result-card:hover {
      background: linear-gradient(145deg, #00ccff, #0099dd);
    }

    .favicon {
      width: 20px;
      height: 20px;
      border-radius: 4px;
    }

    .panel {
      background: #111;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 12px rgba(0, 170, 255, 0.2);
    }

    form {
      position: fixed;
      top: 20px;
      left: 20px;
      display: flex;
      gap: 10px;
    }
  </style>
</head>
<body>

  <!-- 🔍 Search Form -->
  <form onsubmit="runSearch(); return false;">
    <input type="text" id="query" placeholder="Search..." required />
    <button type="submit">Go</button>
  </form>

  <!-- 📘 Results & Wikipedia -->
  <div style="display:flex; margin-top:100px; justify-content:center; gap:40px; flex-wrap:wrap;">
    <div id="results" style="width:600px;"></div>
    <div style="width:300px;">
      <div class="panel">
        <h3 style="color:#00ccff;">Wikipedia Summary</h3>
        <p id="wikiSummary" style="font-size:0.9em; color:#ccc;">Type a search to see a summary here.</p>
      </div>
    </div>
  </div>

  <!-- 🔢 Pagination -->
  <div id="pagination" style="text-align:center; margin:40px;"></div>

  <script>
    let currentPage = 1;
    const resultsPerPage = 5;
    let allResults = [];

    const sources = [
      { title: "Reddit", url: "https://www.reddit.com/search/?q=", icon: "https://www.redditstatic.com/desktop2x/img/favicon/favicon-32x32.png", snippet: "Top Reddit posts" },
      { title: "YouTube", url: "https://www.youtube.com/results?search_query=", icon: "https://www.youtube.com/s/desktop/fe2e6e3e/img/favicon_32x32.png", snippet: "Videos from creators" },
      { title: "Creepypasta", url: "https://creepypasta.com/?s=", icon: "https://creepypasta.com/favicon.ico", snippet: "Scary stories and horror fiction" },
      { title: "AllRecipes", url: "https://www.allrecipes.com/search?q=", icon: "https://www.allrecipes.com/favicon.ico", snippet: "Community-rated meals" },
      { title: "CNET", url: "https://www.cnet.com/search/?q=", icon: "https://www.cnet.com/favicon.ico", snippet: "Tech reviews and comparisons" }
    ];

    function runSearch() {
      const query = document.getElementById("query").value.trim();
      if (!query) return;

      allResults = sources.map(site => ({
        title: `${site.title}: ${query}`,
        url: site.url + encodeURIComponent(query),
        icon: site.icon,
        snippet: site.snippet
      }));

      currentPage = 1;
      renderResults();
      renderPagination();

      fetch("https://en.wikipedia.org/api/rest_v1/page/summary/" + encodeURIComponent(query))
        .then(res => res.json())
        .then(data => {
          document.getElementById("wikiSummary").textContent = data.extract || "No summary found.";
        })
        .catch(() => {
          document.getElementById("wikiSummary").textContent = "Error fetching summary.";
        });
    }

    function renderResults() {
      const container = document.getElementById("results");
      container.innerHTML = "";
      const start = (currentPage - 1) * resultsPerPage;
      const pageItems = allResults.slice(start, start + resultsPerPage);

      pageItems.forEach(item => {
        const card = document.createElement("div");
        card.className = "result-card";
        card.innerHTML = `
          <img src="${item.icon}" class="favicon" alt="${item.title}" />
          <a href="${item.url}" target="_blank" style="color:white; font-size:1.1em; font-weight:bold; text-decoration:none;">
            ${item.title}
          </a>
          <p style="color:white; font-size:0.9em;">${item.snippet}</p>
        `;
        container.appendChild(card);
      });
    }

    function renderPagination() {
      const container = document.getElementById("pagination");
      container.innerHTML = "";
      const totalPages = Math.ceil(allResults.length / resultsPerPage);

      for (let i = 1; i <= totalPages; i++) {
        const btn = document.createElement("button");
        btn.textContent = i;
        btn.onclick = () => {
          currentPage = i;
          renderResults();
        };
        btn.style.margin = "4px";
        container.appendChild(btn);
      }
    }
  </script>

</body>
</html>
